(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f17a0c8"],{"0311":function(t,e,a){t.exports=a.p+"media/notification.d8653ed1.wav"},"3a67":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.allReady?s("Layout",[s("PageHeader",{attrs:{title:t.title,items:t.items}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"media"},[s("div",{staticClass:"mr-3"},[s("img",{staticClass:"avatar-md rounded-circle img-thumbnail",attrs:{src:a("95f5"),alt:""}})]),s("div",{staticClass:"media-body align-self-center"},[s("div",{staticClass:"text-muted"},[s("h5",[t._v(t._s(this.$store.state.auth.currentUser.name))]),s("p",{staticClass:"mb-1"},[t._v(t._s(this.$store.state.auth.currentUser.email))]),s("p",{staticClass:"mb-0"},[t._v("Account Id: "+t._s(this.$store.state.auth.currentUser.accountId))])])]),s("b-dropdown",{attrs:{ngbDropdown:"","menu-class":"dropdown-menu-md",right:"",variant:"light"},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("i",{staticClass:"mdi mdi-wallet mr-1"}),s("span",{staticClass:"d-none d-sm-inline-block",attrs:{ngbDropdownToggle:""}},[t._v(" Wallet Balance "),s("i",{staticClass:"mdi mdi-chevron-down"})])]},proxy:!0}],null,!1,4063388959)},[s("div",{staticClass:"dropdown-item-text"},[s("div",[s("p",{staticClass:"text-muted mb-2"},[t._v("Available Balance")]),s("h5",{staticClass:"mb-0"},[t._v("$ "+t._s(this.$store.state.auth.currentUser.cash))])])]),s("b-dropdown-divider"),s("b-dropdown-item",[t._v(" BTC : "),s("span",{staticClass:"float-right"},[t._v(t._s(this.$store.state.auth.currentUser.stocks.btc||0))])]),s("b-dropdown-item",[t._v(" ETH : "),s("span",{staticClass:"float-right"},[t._v(t._s(this.$store.state.auth.currentUser.stocks.eth||0))])]),s("b-dropdown-item",[t._v(" LTC : "),s("span",{staticClass:"float-right"},[t._v(t._s(this.$store.state.auth.currentUser.stocks.ltc||0))])]),s("b-dropdown-divider"),s("a",{staticClass:"dropdown-item text-primary text-center",attrs:{href:"javascript: void(0);"}},[t._v("Learn more")])],1)],1)])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-8"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title mb-4"},[t._v("Candle chart for "+t._s(t.transaction.crypto.toUpperCase()))]),s("div",{staticClass:"mt-4"},[s("apexchart",{staticClass:"apex-charts",attrs:{height:"310",type:"candlestick",dir:"ltr",series:this.$store.state.stock[this.transaction.crypto].candles,options:t.priceCandlestickChart.chartOptions}})],1)])])]),s("div",{staticClass:"col-xl-4"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title mb-4"},[t._v("Buy / Sell")]),s("div",[s("p",{staticClass:"text-muted mb-2"},[s("i",{staticClass:"mdi mdi-wallet mr-1"}),t._v(" Wallet Balance ")]),s("h5",[t._v("$ "+t._s(this.$store.state.auth.currentUser.cash))])]),s("div",{staticClass:"mt-4"},[s("b-tabs",{attrs:{"nav-class":"bg-light rounded",pills:"","content-class":"mt-4"},model:{value:t.transaction.type,callback:function(e){t.$set(t.transaction,"type",e)},expression:"transaction.type"}},t._l(t.transactionTypes,(function(e){return s("b-tab",{key:e,attrs:{title:e}},[s("h5",{staticClass:"font-size-14 mb-4"},[t._v(t._s(e)+" Coin")]),s("div",[s("div",[s("label",[t._v("Add Amount :")]),s("div",{staticClass:"input-group mb-3"},[s("div",{staticClass:"input-group-prepend"},[s("label",{staticClass:"input-group-text"},[t._v("Amount")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.crypto,expression:"transaction.crypto"}],staticClass:"custom-select",staticStyle:{"max-width":"90px"},attrs:{id:"select_transaction"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.transaction,"crypto",e.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"btc",selected:""}},[t._v("BTC")]),s("option",{attrs:{value:"eth"}},[t._v("ETH")]),s("option",{attrs:{value:"ltc"}},[t._v("LTC")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.amount,expression:"transaction.amount"}],staticClass:"form-control",attrs:{type:"number",id:"amount",placeholder:"Input here the amount"},domProps:{value:t.transaction.amount},on:{input:function(e){e.target.composing||t.$set(t.transaction,"amount",e.target.value)}}})]),s("div",{staticClass:"input-group mb-3"},[s("div",{staticClass:"input-group-prepend"},[s("label",{staticClass:"input-group-text"},[t._v("Price")])]),s("input",{staticClass:"form-control",attrs:{type:"number",readonly:""},domProps:{value:t.cryptoPrice}}),s("div",{staticClass:"input-group-append"},[s("label",{staticClass:"input-group-text"},[t._v("$")])])]),s("div",{staticClass:"input-group mb-3"},[s("div",{staticClass:"input-group-prepend"},[s("label",{staticClass:"input-group-text"},[t._v("Total")])]),s("input",{staticClass:"form-control",attrs:{type:"number",readonly:""},domProps:{value:t.totalValue}})])]),s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-success w-md",attrs:{type:"button"},on:{click:t.makeStockTransaction}},[t._v(t._s(e)+" Coin")])])])])})),1),s("b-modal",{attrs:{title:"Crypto Transaction",centered:"","hide-footer":""},model:{value:t.transactionModal.show,callback:function(e){t.$set(t.transactionModal,"show",e)},expression:"transactionModal.show"}},[s("div",{staticClass:"text-center"},[1==t.transactionModal.loading?s("b-spinner",{attrs:{label:"Spinning"}}):s("div",{staticClass:"center-block"},[t._v(t._s(t.transactionModalMsg))]),s("b-button",{staticClass:"mt-3",attrs:{variant:t.transactionModalColor,block:""},on:{click:t.resetTransactionModal}},[t._v("Done")])],1)])],1)])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title mb-4"},[t._v("Activities")]),s("b-tabs",{attrs:{"content-class":"mt-3","nav-class":"nav-tabs-custom"}},[s("b-tab",{attrs:{title:"All",active:""}},[s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[s("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Show "),s("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v(" entries ")],1)])]),s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_filter text-md-right",attrs:{id:"tickets-table_filter"}},[s("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Search: "),s("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)])])]),s("div",{staticClass:"table-responsive table-hover mb-0"},[s("b-table",{attrs:{items:this.$store.state.transaction.allTransactions,fields:t.fields,responsive:"sm","per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered}})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[s("ul",{staticClass:"pagination pagination-rounded mb-0"},[s("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])],1)],1)])])]),s("AIChatbot")],1):t._e()},i=[],n=(a("a4d3"),a("e01a"),a("96cf"),a("1da1")),r=a("5530"),o=a("444f"),c=a("c2a4"),l=a("2579"),d=a("2f62"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isChatbotAvailable?s("div",{staticClass:"ai-chatbot",class:{"ai-chatbot-open":t.isOpen},style:{bottom:t.positionY+"px",right:t.positionX+"px"},on:{mousedown:t.startDragging,touchstart:t.startDragging}},[s("div",{staticClass:"ai-chatbot-header"},[s("h3",[t._v("AI Assistant")]),s("div",{staticClass:"ai-chatbot-controls"},[t.isOpen?s("button",{staticClass:"restart-button",attrs:{title:"Restart Chat"},on:{click:function(e){return e.stopPropagation(),t.handleRestartChat(e)}}},[s("i",{staticClass:"fas fa-redo"})]):t._e(),s("button",{staticClass:"ai-chatbot-toggle",on:{click:function(e){return e.stopPropagation(),t.toggleChat(e)}}},[t._v(t._s(t.isOpen?"−":"+"))])])]),t.isOpen?s("div",{staticClass:"ai-chatbot-body"},[s("div",{ref:"messageContainer",staticClass:"ai-chatbot-messages"},t._l(t.conversation,(function(e,a){return s("div",{key:a,class:["message",e.sender]},[t._v(" "+t._s(e.text)+" ")])})),0),s("div",{staticClass:"ai-chatbot-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInput,expression:"userInput"}],attrs:{placeholder:t.isWaiting?t.waitingMessages[t.currentWaitingMessageIndex]:"Type your message...",disabled:t.isWaiting,readonly:t.isWaiting},domProps:{value:t.userInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSendMessage(e)},input:function(e){e.target.composing||(t.userInput=e.target.value)}}}),s("button",{attrs:{disabled:t.isWaiting},on:{click:t.handleSendMessage}},[t._v(" "+t._s(t.isWaiting?t.responseTime+"s":"Send")+" ")])])]):t._e(),s("audio",{ref:"audioAlert",attrs:{src:a("0311")}})]):t._e(),t.highlightResponse?s("div",{staticClass:"full-page-highlight"}):t._e()])},p=[],g=(a("498a"),a("c24f")),h={name:"AIChatbot",data:function(){return{isOpen:!1,userInput:"",isDragging:!1,startX:0,startY:0,positionX:20,positionY:20,isWaiting:!1,isChatbotAvailable:!1,waitingMessages:["Thinking...","AI at work...","Making Magic...","Abracadabra...","Processing..."],currentWaitingMessageIndex:0,waitingMessageInterval:null,highlightResponse:!1,responseTime:0,responseTimeInterval:null}},computed:Object(r["a"])({},Object(d["d"])("aiChat",["conversation"])),mounted:function(){this.checkChatbotAvailability(),window.addEventListener("mousemove",this.onDragging),window.addEventListener("mouseup",this.stopDragging),window.addEventListener("touchmove",this.onDragging),window.addEventListener("touchend",this.stopDragging)},beforeDestroy:function(){window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("mouseup",this.stopDragging),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("touchend",this.stopDragging),this.clearWaitingMessageInterval(),this.clearResponseTimeInterval()},methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])("aiChat",["sendMessage","restartChat"])),{},{checkChatbotAvailability:function(){var t=this;this.isChatbotAvailable=g["a"].loggedIn,this.isChatbotAvailable?this.$nextTick((function(){t.initChat()})):console.log("AI Chatbot is not available. User not logged in.")},toggleChat:function(t){t.stopPropagation(),this.isOpen=!this.isOpen},handleSendMessage:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.userInput.trim()&&!t.isWaiting){e.next=2;break}return e.abrupt("return");case 2:return a=t.userInput,t.isWaiting=!0,t.startWaitingMessageRotation(),t.startResponseTimeCounter(),t.userInput=t.waitingMessages[0],e.prev=7,e.next=10,t.sendMessage(a);case 10:t.highlightResponseReceived(),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](7),console.error("Error in sending message:",e.t0);case 16:return e.prev=16,t.isWaiting=!1,t.userInput="",t.clearWaitingMessageInterval(),t.clearResponseTimeInterval(),t.$nextTick((function(){t.scrollToBottom()})),e.finish(16);case 23:case"end":return e.stop()}}),e,null,[[7,13,16,23]])})))()},startWaitingMessageRotation:function(){var t=this;this.currentWaitingMessageIndex=0,this.waitingMessageInterval=setInterval((function(){t.currentWaitingMessageIndex=(t.currentWaitingMessageIndex+1)%t.waitingMessages.length,t.userInput=t.waitingMessages[t.currentWaitingMessageIndex]}),1e3)},clearWaitingMessageInterval:function(){this.waitingMessageInterval&&(clearInterval(this.waitingMessageInterval),this.waitingMessageInterval=null)},startResponseTimeCounter:function(){var t=this;this.responseTime=0,this.responseTimeInterval=setInterval((function(){t.responseTime++}),1e3)},clearResponseTimeInterval:function(){this.responseTimeInterval&&(clearInterval(this.responseTimeInterval),this.responseTimeInterval=null)},highlightResponseReceived:function(){var t=this;this.highlightResponse=!0,this.$refs.audioAlert.play(),setTimeout((function(){t.highlightResponse=!1}),1e3)},handleRestartChat:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g["a"].resetAiChat();case 3:return e.next=5,t.restartChat();case 5:t.$nextTick((function(){t.scrollToBottom()})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error("Error resetting chat:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},scrollToBottom:function(){var t=this.$refs.messageContainer;t&&(t.scrollTop=t.scrollHeight)},startDragging:function(t){if(t.target.closest(".ai-chatbot-header")){this.isDragging=!0;var e=this.$el.querySelector(".ai-chatbot"),a=e.getBoundingClientRect();"mousedown"===t.type?(this.startX=t.clientX-a.left,this.startY=t.clientY-a.top):"touchstart"===t.type&&(this.startX=t.touches[0].clientX-a.left,this.startY=t.touches[0].clientY-a.top),document.body.style.userSelect="none"}},onDragging:function(t){if(this.isDragging){var e,a;"mousemove"===t.type?(e=t.clientX,a=t.clientY):"touchmove"===t.type&&(e=t.touches[0].clientX,a=t.touches[0].clientY);var s=window.innerWidth,i=window.innerHeight,n=this.$el.querySelector(".ai-chatbot"),r=n.offsetWidth,o=n.offsetHeight,c=s-e+this.startX-r,l=i-a+this.startY-o;this.positionX=Math.max(0,Math.min(c,s-r)),this.positionY=Math.max(0,Math.min(l,i-o))}},stopDragging:function(){this.isDragging=!1,document.body.style.userSelect=""},initChat:function(){this.handleRestartChat()}})},m=h,v=(a("a39e"),a("2877")),b=Object(v["a"])(m,u,p,!1,null,"a17a38fa",null),f=b.exports,C={chartOptions:{chart:{type:"candlestick",height:310,toolbar:!1,zoom:{enabled:!0}},plotOptions:{candlestick:{colors:{upward:"#34c38f",downward:"#f46a6a"}}},xaxis:{type:"datetime"},yaxis:{decimalsInFloat:0,tooltip:{enabled:!0}}}},y=[{id:1,date:"15 Mar ",text:"If several languages coalesce of the resulting."},{id:2,date:"14 Mar ",text:"New common language will be more simple and regular than the existing"},{id:3,date:"10 Mar",text:"It will seem like simplified English as a skeptical Cambridge"},{id:4,date:"13 Mar",text:"To achieve this, it would be necessary"},{id:5,date:"12 Mar ",text:"Cum sociis natoque penatibus et magnis dis"},{id:6,date:"11 Mar ",text:"New common language will be more simple and regular than the existing"},{id:7,date:"10 Mar ",text:"It will seem like simplified English as a skeptical Cambridge"},{id:8,date:"09 Mar ",text:"To achieve this, it would be necessary"}],w={page:{title:"Exchange",meta:[{name:"description",content:c.description}]},components:{Layout:o["a"],PageHeader:l["a"],AIChatbot:f},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(d["b"])("stock",["getAllStockCandles","stockTransaction"])),Object(d["b"])("transaction",["getAllTransactions"])),{},{makeStockTransaction:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.transactionModal.loading=!0,t.transactionModal.details=null,t.transactionModal.show=!0,e.next=5,t.stockTransaction({symbol:t.transaction.crypto,transactionType:0==t.transaction.type?"buy":"sell",amount:t.transaction.amount});case 5:a=e.sent,t.transactionModal.details=a,t.transactionModal.loading=!1;case 8:case"end":return e.stop()}}),e)})))()},resetTransactionModal:function(){this.transactionModal.show=!1},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}),computed:{cryptoPrice:function(){return this.$store.state.stock[this.transaction.crypto].ticker[0==this.transaction.type?"ask":"bid"]},totalValue:function(){return this.cryptoPrice*this.transaction.amount},allReady:function(){return!!this.$store.state.stock.btc.ticker&&!!this.$store.state.stock.btc.candles},transactionModalMsg:function(){return"success"==this.transactionModal.details.status?"Transaction ".concat(this.transactionModal.details.transactionId," successful"):"fail"==this.transactionModal.details.status?this.transactionModal.details.reason:"ERROR, please try again later"},transactionModalColor:function(){return this.transactionModal.details&&"success"==this.transactionModal.details.status?"outline-success":"outline-danger"},rows:function(){return this.$store.state.transaction.allTransactions.length}},mounted:function(){this.getAllStockCandles(),this.getAllTransactions()},data:function(){return{transactionModal:{show:!1,loading:!0,details:null},transactionTypes:["Buy","Sell"],transaction:{type:0,crypto:"btc",amount:null},totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"date",sortDesc:!0,fields:[{key:"transactionId",label:"ID"},{key:"symbol",sortable:!0,label:"Crypto",formatter:function(t){return t.toUpperCase()}},{key:"amount",label:"Crypto Amount"},{key:"transactionType",sortable:!0,label:"Type",formatter:function(t){return t.toUpperCase()}},{key:"price",label:"Unit Price"},{key:"totalValue",label:"Total Value"},{key:"date",sortable:!0,label:"Date",formatter:function(t){return new Date(t)}}],priceCandlestickChart:C,notificationData:y,title:"Exchange",items:[{text:"Crypto",href:"/"},{text:"Exchange",active:!0}]}}},x=w,k=Object(v["a"])(x,s,i,!1,null,null,null);e["default"]=k.exports},"498a":function(t,e,a){"use strict";var s=a("23e7"),i=a("58a8").trim,n=a("c8d2");s({target:"String",proto:!0,forced:n("trim")},{trim:function(){return i(this)}})},5965:function(t,e,a){},a39e:function(t,e,a){"use strict";a("5965")},c8d2:function(t,e,a){var s=a("d039"),i=a("5899"),n="​᠎";t.exports=function(t){return s((function(){return!!i[t]()||n[t]()!=n||i[t].name!==t}))}}}]);
//# sourceMappingURL=chunk-4f17a0c8.7dd55f94.js.map